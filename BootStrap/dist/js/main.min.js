var BASE_API_URL="http://10.0.0.160/demo-api/",API_URLS={taskStatus:"tasks/fetchTasksByStatus",completedTaskStatus:"tasks/getCompletedTasksByDay"},appMessages={somethingWrongTaskGrid:"Something went wrong while populating the tasks in the grid. Please try again later.",somethingWrongTaskStatus:"Something went wrong while populating the task statuses. Please try again later.",taskDelete:"Task has been deleted successfully.",taskUpdate:"Task has been updated successfully.",taskCreate:"Task has been created successfully.",taskDone:"Task status has been updated successfully."};if("undefined"==typeof jQuery)throw new Error("osm-validator-js requires jQuery. jQuery must be included before osm-validator-js.");!function(a){a.fn.osmValidator=function(b){function c(a){return""===a.trim()}function d(a){return!!y.regularExpressions.email.test(a)}function e(a){return!!y.regularExpressions.phone.test(a)}function f(a){return!!y.regularExpressions.url.test(a)}function g(a){return!(!a&&"0"!==a)&&!isNaN(+a)}function h(a){return!!y.regularExpressions.digits.test(a.trim())}function i(a,b){return a.length<=b}function j(a){if(g(a))return+a>0}function k(a,b){var c=a.trim();return""!==c&&c!==b}function l(b){var c=b.attr("name");return a('input[name = "'+c+'"]:checked').length>0}function m(a,b){return a>+b}function n(a,b,c){var d=v.find(b).val(),e=a,f=!0;return d!==e&&(f=!1),f}function o(a,b){b.trim();var c=[];if(0===b.length)return c;b=b.split(",");for(var d=0;d<b.length;d++)b[d]=b[d].trim(),"."===b[d].charAt(0)&&(b[d]=b[d].slice(1));for(d=0;d<a.length;d++)-1===b.indexOf(a[d])&&-1===c.indexOf(a[d])&&c.push(a[d]);return 0!==c.length&&c}function p(a,b){if(void 0!==I.response)return I.response.errors.hasOwnProperty(a[0].name)?I.response.errors[a[0].name].errorMessage=b:I.response.errors[a[0].name]={errorMessage:b},I.setError(a,b),I.response}function q(a){D||(z=a.find('input:text, input:password, textarea, input[type="email"], input[type="tel"], input[type="url"]').not(".hidden"),A=a.find('input[type="radio"], input[type="checkbox"]').not(".hidden"),B=a.find("select").not(".hidden"),C=a.find("input:file"),D=!0)}function r(a){q(a),s(a),z.blur(H.inputsBlur),A.blur(H.rdoBlur),B.blur(H.selectBlur),C.blur(H.fileInputBlur)}function s(a){q(a),C.off("blur",H.fileInputBlur),z.off("blur",H.inputsBlur),B.off("blur",H.selectBlur),A.off("blur",H.rdoBlur)}function t(a,b,c){var d=!0;if(a)y.setHighlight&&I.removeError(c);else{var e=y.errorMessages[b];I.response.hasError=!0,p(c,e),d=!1}return d}function u(a){if(Math.abs(a)<1e3)return a+" B";var b=["kB","MB","GB","TB","PB","EB","ZB","YB"],c=-1;do{a/=1e3,++c}while(Math.abs(a)>=1e3&&c<b.length-1);return a.toFixed(1)+" "+b[c]}const v=this;var w=a.fn.osmValidator.defaultOptions,x=a.fn.osmValidator.classes,y=a.extend(!0,{},w,b),z=[],A=[],B=[],C=[],D=!1;const E={dataDefaultValue:"data-default-value",dataTarget:"data-target",hasMaxLength:"data-max-length",dataMaxSize:"data-max-size",dataExpectedFileType:"data-expected-file-type",errorDisplay:"error-element"},F={email:{class:x.email,fnName:"isEmail"},phone:{class:x.phone,fnName:"isPhone"},url:{class:x.url,fnName:"isURL"},number:{class:x.number,fnName:"isNumber"},digits:{class:x.digits,fnName:"isDigit"},greaterThanZero:{class:x.greaterThanZero,fnName:"isGreaterThanZero"}},G=function(){return{isEmail:d,isDigit:h,isNumber:g,isGreaterThanZero:j,isEmpty:c,isPhone:e,isURL:f,compareValues:n}}(),H={inputsBlur:function(){I.validateInputFields(a(this))},rdoBlur:function(){I.validateRadio(a(this))},selectBlur:function(){I.validateSelect(a(this))},fileInputBlur:function(){I.validateFileInput(a(this))}};y.setBlurEvent&&r(v);var I={response:{hasError:!1,errors:{}},setFormOptions:function(b){y=a.extend(!0,y,b),b.hasOwnProperty("setBlurEvent")&&(y.setBlurEvent?r(v):s(v))},getFormOptions:function(){return JSON.parse(JSON.stringify(y))},resetResponse:function(){var a=v;I.response.hasError=!1,I.response.errors={},I.resetControlErrors(a)},resetControlErrors:function(){v.find("div.form-group").removeClass("has-error"),v.find(".text-danger").remove()},setError:function(a,b){if(y.setHighlight){var c=a.parents("div.form-group").first(),d=a.attr(E.errorDisplay),e=c.find(d);c.addClass("has-error"),c.find(".text-danger").remove(),b.length>0&&("radio"!==a.attr("type")?e.append('<span class="text-danger">'+b+"</span>"):(c.find(".text-danger").remove(),e.append('<span class="text-danger">'+b+"</span>")))}},removeError:function(a){if(y.setHighlight){for(var b=0;b<I.response.errors.length;b++)I.response.errors[b].hasOwnProperty(a[0].id)&&I.response.errors.splice(b,1);var c=a.parents("div.form-group").first();c.removeClass("has-error"),c.find(".text-danger").remove()}},validateFormControls:function(){I.resetResponse(v),q(v);for(var b=0;b<C.length;b++){var c=a(C[b]);I.validateFileInput(c)}for(b=0;b<z.length;b++){var d=a(z[b]);I.validateInputFields(d)}for(b=0;b<B.length;b++){var e=a(B[b]);I.validateSelect(e)}for(b=0;b<A.length;b++){var f=a(A[b]);I.validateRadio(f)}return this.response},validateInputFields:function(a){var b=a.val()?a.val().trim():a.val(),d=c(b);if(a.hasClass(x.required)&&d){var e=y.errorMessages.required;I.response.hasError=!0,p(a,e)}else y.setHighlight&&I.removeError(a);if(!d){if(a[0].hasAttribute(E.hasMaxLength)){var f=a.attr(E.hasMaxLength),g=i(b,f),h=t(g,"hasMaxLength",a);if(!h)return}if(a[0].hasAttribute(E.dataTarget)){if(!t(n(b,a.attr(E.dataTarget),a),"confirmPassword",a))return}for(var j in F){var k=F[j];if(a.hasClass(k.class)){if(!(h=t(G[k.fnName].apply(null,[b]),j,a)))break}}}},validateRadio:function(b){if(a('input[name = "'+b.attr("name")+'"]').hasClass(x.required)){t(l(b),"required",b)}},validateFileInput:function(a){var b=a.prop("files");if(a.hasClass(x.required)&&b.length<1){var c=y.errorMessages.required;return I.response.hasError=!0,p(a,c),I.response}if(a[0].hasAttribute(E.dataExpectedFileType)){var d=a.attr(E.dataExpectedFileType);if(void 0===d)return I.removeError(a),I.response;for(var e=[],f=0;f<b.length;f++)e.push(b[f].name.split(".").pop());var g=o(e,d);if(g)return c=y.errorMessages.dataExpectedFileType+g.toString()+".",I.response.hasError=!0,p(a,c),I.response}if(a[0].hasAttribute(E.dataMaxSize)){var h=a.attr(E.dataMaxSize),i=0;for(f=0;f<b.length;f++)i+=b[f].size||b[f].fileSize;if(m(i,h)){var j=u(h);return c=y.errorMessages.dataMaxSize+j+".",I.response.hasError=!0,p(a,c),I.response}}I.removeError(a)},validateSelect:function(a){if(a.hasClass(x.required)){var b=a.attr(E.dataDefaultValue);t(k(a.val(),b),"required",a)}}};return I},a.fn.osmValidator.defaultOptions={errorMessages:{required:"This field is required.",email:"Invalid email.",number:"Invalid number.",digits:"Invalid digits.",hasMaxLength:"Invalid length.",phone:"Invalid phone number.",isInvalid:"In Valid.",valid:"Valid.",confirmPassword:"Passwords don't match.",greaterThanZero:"Value must be greater than zero.",dataMaxSize:"Uploaded file(s) size should not exceed more than ",dataExpectedFileType:"You have uploaded file(s) with invalid extension ",url:"Invalid URL."},regularExpressions:{email:/^([à-ÿÀ-Ÿ\w]+\.?[à-ÿÀ-Ÿ\w\]*[à-ÿÀ-Ÿ\w]+@([à-ÿÀ-Ÿ\w]+\.)+[à-ÿÀ-Ÿ\w-]{2,4})?$/,digits:/^\d+$/,phone:/^(?:(?:\+|0{0,2})91(\s*[\ -]\s*)?|[0]?)?[789]\d{9}|(\d[ -]?){10}\d$/,url:/^(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9]\.[^\s]{2,}|[a-zA-Z0-9]\.[^\s])$/},setHighlight:!0,setBlurEvent:!0},a.fn.osmValidator.classes={required:"req-cntrl",email:"invalid-email",number:"invalid-number",digits:"invalid-digits",phone:"phone",greaterThanZero:"greater-than-zero",url:"url"}}(jQuery),$(document).ready(function(){function a(a){if(a.hasOwnProperty("success")&&a.success){var b=a.data;F.rows.add(b).draw(!1),h(b)}else d("error",appMessages.somethingWrongTaskGrid);$('[data-toggle="tooltip"]').tooltip()}function b(a){if(a.hasOwnProperty("success")&&a.success){var b='<option value="">Select a status</option>',c=a.data;for(var e in c)b+='<option value="'+c[e].statusID+'">'+c[e].statusName+"</option>";$("#taskStatus").html(b),localStorage.setItem("tasksStatuses",JSON.stringify(c))}else d("error",appMessages.somethingWrongTaskStatus)}function c(a){var b=$(".add-task-form");for(var c in a)if("statusID"===c)b.find('select[name="'+c+'"]').val(a[c]);else{var d=b.find('input[name="'+c+'"]');d.val(a[c]),d.hasClass("datepicker")&&d.datepicker("setDate",k(a[c]))}}function d(a,b){new Noty({text:b,type:a,timeout:2500,layout:"bottomRight"}).show()}function e(a){return a.statusID==w?a.completedOn=k(new Date):a.completedOn="",a}function f(){var a=localStorage.getItem("tasksData");return JSON.parse(a)}function g(){var a=localStorage.getItem("tasksStatuses");return JSON.parse(a)}function h(a){if(a)b=a;else{a=F.rows().data();for(var b=[],c=0;c<a.length;c++)b[c]=a[c]}localStorage.setItem("tasksData",JSON.stringify(b))}function i(){var a=$(".add-task-form"),b={};return b.taskName=a.find('input[name="taskName"]').val(),b.dueDate=a.find('input[name="dueDate"]').val(),b.statusName=$("#taskStatus option:selected").html(),b.statusID=a.find('select[name="statusID"]').val(),b.createdOn=a.find('input[name="createdOn"]').val(),b}function j(a){return moment(a,v).toDate()}function k(a){var b=j(a);return moment(b).format(v)}function l(a){for(var b=g(),c=[],d=f(),e=0;e<d.length;e++){var h={};if(h.statusId=d[e].statusID,h.statusName=d[e].statusName,c.length){for(var i=!1,j=0;j<c.length;j++)if(c[j].statusId==h.statusId){i=!0,c[j].totalTasksCount=c[j].totalTasksCount+1;break}i||(h.totalTasksCount=1,c.push(h))}else h.totalTasksCount=1,c.push(h)}for(var k=0;k<b.length;k++){for(var l=b[k],m=!1,o=0;o<c.length;o++)if(parseInt(c[o].statusId,10)===parseInt(l.statusID,10)){m=!0;break}if(!m){var p={statusId:l.statusID,statusName:l.statusName,totalTasksCount:0};c.push(p)}}c.sort(function(a,b){return parseInt(a.statusId,10)-parseInt(b.statusId)});var q={data:c};a||(q.isUpdate=!0),n(q)}function m(a){var b=f();b.sort(function(a,b){return a=a.completedOn.split("-").reverse().join(""),b=b.completedOn.split("-").reverse().join(""),a>b?1:a<b?-1:0});var c={},d={};c.lblDates=[],c.data=[];for(var e=0;e<b.length;e++)b[e].completedOn&&-1===c.lblDates.indexOf(b[e].completedOn)&&c.lblDates.push(b[e].completedOn),d[b[e].completedOn]=(d[b[e].completedOn]||0)+1;for(var g=0;g<c.lblDates.length;g++)c.data.push(d[c.lblDates[g]]);o(c,a)}function n(a){for(var b=$(document.getElementById("canvas-pie-chart")),c=$(document.getElementsByClassName("empty-pie-chart")),d=a.data,e=[],f=[],g=0,h=0;h<d.length;h++)e.push(d[h].statusName),f.push(d[h].totalTasksCount),d[h].totalTasksCount>0&&g++;if(0===g?(b.addClass("hide-div"),c.hasClass("hide-div")&&c.removeClass("hide-div")):b.hasClass("hide-div")?b.removeClass("hide-div"):c.hasClass("hide-div")||c.addClass("hide-div"),a.isUpdate)x.data.datasets[0].data=f,q.update();else if(e.length&&f.length){x={type:"pie",data:{datasets:[{data:f,backgroundColor:[B.BLOCKED,B.DONE,B.INPROGRESS,B.PLANNED]}],labels:e},options:{responsive:!0}};var i=document.getElementById("canvas-pie-chart").getContext("2d");q=new Chart(i,x)}}function o(a,b){var c=$(document.getElementById("canvas-line-chart")),d=$(document.getElementsByClassName("empty-line-chart")),e=a.data,f=[],g=[];if(a.lblDates&&a.data)f=a.lblDates,g=a.data;else for(var h=0;h<e.length;h++)""!==e[h].completedOn&&(f.push(e[h].completedOn),g.push(e[h].totalTasksCount));if(0===g.length?(c.addClass("hide-div"),d.hasClass("hide-div")&&d.removeClass("hide-div")):c.hasClass("hide-div")?c.removeClass("hide-div"):d.hasClass("hide-div")||d.addClass("hide-div"),0===Object.keys(y).length){if(f.length&&g.length){y={type:"line",data:{labels:f,datasets:[{label:"Tasks completed",backgroundColor:B.TASKS_COMPLETED,borderColor:B.TASKS_COMPLETED,borderCapStyle:"butt",pointBackgroundColor:B.TASKS_COMPLETED,data:g,fill:!1}]},options:{responsive:!0,tooltips:{mode:"index",intersect:!1},hover:{mode:"nearest",intersect:!0},scales:{xAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Dates"},ticks:{stepSize:1}}],yAxes:[{display:!0,scaleLabel:{display:!0,labelString:"Number of tasks"},ticks:{stepSize:1,beginAtZero:!0,max:10}}]},legend:{onClick:function(a){a.stopPropagation()}}}};var i=document.getElementById("canvas-line-chart").getContext("2d");r=new Chart(i,y)}}else y.data.labels=f,y.data.datasets[0].data=g,r.update()}function p(a,b,c,d){jQuery.ajax({url:BASE_API_URL+a,type:"GET",beforeSend:function(){!1!==d&&(c||(c="Processing...."),jQuery.blockUI({message:$(".loading-div"),baseZ:2e3}))},complete:function(){jQuery.unblockUI()}}).done(function(a){jQuery.unblockUI(),b(a)}).fail(function(){jQuery.unblockUI()})}var q=null,r=null,s=$("#dueDate"),t="",u=!1,v="DD-MM-YYYY",w=2,x={},y={},z=$("#task-grid"),A="",B={BLOCKED:"#2ecc71",DONE:"#3498db",INPROGRESS:"#95a5a6",PLANNED:"#9b59b6",TASKS_COMPLETED:"#00caca"},C=$("#addTaskForm").osmValidator();$("#dropdownMenuButton").tooltip(),$(".add-task-form").on("blur",".reqCntrl",function(){C.removeErrForFld($(this))}),$("#createdOn").val(k(new Date)),s.datepicker({format:"dd-mm-yyyy",todayHighlight:!0,autoclose:!0}),s.blur(function(){var a=$(this);setTimeout(function(){s.val()?C.removeError(a):C.setError(a,$.fn.osmValidator.defaultOptions.errorMessages.required)},200)}),$(".open-datepicker").click(function(a){a.preventDefault(),$(this).parent().find("input").focus()});for(var D=[{data:"taskName",title:"Task Name",width:"40%",isRequired:!0},{data:"dueDate",title:"Due Date",render:k,width:"10%"},{data:"createdOn",title:"Created On",render:k,width:"10%"},{data:"statusName",title:"Status",width:"10%"},{data:"",width:"20%",title:"Actions",render:function(a,b,c){var d='<span><span title="Edit" data-toggle="tooltip" class="edit-setting row-action"><i class="fa fa-1x fa-pencil"></span></i></span>';return d+='<span><span title="Delete" data-toggle="tooltip" class="delete-setting row-action"><i class="fa fa-1x fa-trash"></span></i></span>',c.statusID!=w?d+='<span><span title="Mark as done" data-toggle="tooltip" class="mark-as-done row-action"><i class="fa fa-1x fa-check"></span></i></span>':d+='<span><span class="mark-as-done disabled row-action"><i class="fa fa-1x fa-check"></span></i></span>',d},className:"table-actions text-center",bSortable:!1,isRequired:!0}],E={responsive:!0,colReorder:!0,columns:D,data:[],autoWidth:!0,isFullWidth:!0,stateSave:!0,language:{info:"Showing _START_ to _END_ of _TOTAL_ tasks",sLengthMenu:"Show _MENU_ tasks"}},F=z.DataTable(E),G="",H=0;H<D.length;H++)D[H].isRequired||(G=G+'<span  class="dropdown-item dt-column-list" data- value="'+D[H].title+'" > <input style="display:none;" id="'+D[H].data+'" type="checkbox"  checked="true"/> <span class="check-box"></span> <label >&nbsp; '+D[H].title+" </label></span>");F.on("page.dt",function(){$("html,body").animate({scrollTop:$(".task-grid-section").offset().top},"slow")}),$("#dropdown-list").html(G),$("#dropdown-list").on("click",".dt-column-list",function(a){a.stopPropagation(),$(this).find("input").prop("checked",!$(this).find("input").is(":checked"));for(var b=0;b<D.length;b++)if(D[b].data===$(this).find("input").attr("id")){var c=F.column(b);c.visible(!c.visible());break}}),p("tasks",a,"loading",!0);var I=$(F.table().container());I.removeClass("form-inline");for(var J=I.find(".col-xs-12"),K=0;K<=J.length;K++)$(J[K]).removeClass("col-xs-12").addClass("col-sm-12");p("task-statuses",b);var L=$(".delete-confirmation-modal");z.on("click",".delete-setting",function(){A=$(this).parents("tr"),L.modal("show")}),L.find(".confirm-dlt-btn").click(function(){F.row(A).remove().draw(!1),h(),l(),m(),L.modal("hide"),A="",setTimeout(function(){d("success",appMessages.taskDelete)},500)}),z.on("click",".edit-setting",function(){var a=$(".add-task-form");t=$(this).parents("tr");var b=F.row($(this).parents("tr")).data();u=!0,a.find("h1").text("Edit Task"),c(b),$("html,body").animate({scrollTop:$(".add-edit-task-container").offset().top},"slow"),a.find("input")[0].focus()}),$(".task-reset").click(function(){var a=$("#addTaskForm");C.resetResponse(a),a.find("h1").text("Add Task")}),$(".task-submit").click(function(){var a=$(".add-task-form");if(C.validateFormControls(a,this).hasError)$(".has-error").find(".form-control").first().focus();else{var b=i();e(b),u?F.row(t).data(b).draw(!1):F.row.add(b).draw(!1),h(),l(),m(),$("#createdOn").val(k(new Date)),$(".add-task-form")[0].reset(),u?(u=!1,a.find("h1").text("Add Task"),d("success",appMessages.taskUpdate)):d("success",appMessages.taskCreate)}}),z.on("click",".mark-as-done",function(){if(!$(this).hasClass("disabled")){var a=$(this).parents("tr"),b=F.row(a).data();b.statusID=w,b.statusName="Done",b.completedOn=k(new Date),F.row(a).data(b).draw(!1),h(),l(),m(),d("success",appMessages.taskDone)}}),$(".help-link").click(function(){$(".help-modal").modal("show")});var M=f();if(!M||M.length<=0)p(API_URLS.taskStatus,n,"",!0),p(API_URLS.completedTaskStatus,o,"",!0);else{l(!0),m(!0)}}),function(){"use strict";function a(a){function b(b,d){var f,p,q=b==window,r=d&&void 0!==d.message?d.message:void 0;if(d=a.extend({},a.blockUI.defaults,d||{}),!d.ignoreIfBlocked||!a(b).data("blockUI.isBlocked")){if(d.overlayCSS=a.extend({},a.blockUI.defaults.overlayCSS,d.overlayCSS||{}),f=a.extend({},a.blockUI.defaults.css,d.css||{}),d.onOverlayClick&&(d.overlayCSS.cursor="pointer"),p=a.extend({},a.blockUI.defaults.themedCSS,d.themedCSS||{}),r=void 0===r?d.message:r,q&&n&&c(window,{fadeOut:0}),r&&"string"!=typeof r&&(r.parentNode||r.jquery)){var s=r.jquery?r[0]:r,t={};a(b).data("blockUI.history",t),t.el=s,t.parent=s.parentNode,t.display=s.style.display,t.position=s.style.position,t.parent&&t.parent.removeChild(s)}a(b).data("blockUI.onUnblock",d.onUnblock);var u,v,w,x,y=d.baseZ;u=a(k||d.forceIframe?'<iframe class="blockUI" style="z-index:'+y+++';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+d.iframeSrc+'"></iframe>':'<div class="blockUI" style="display:none"></div>'),v=a(d.theme?'<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+y+++';display:none"></div>':'<div class="blockUI blockOverlay" style="z-index:'+y+++';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>'),d.theme&&q?(x='<div class="blockUI '+d.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(y+10)+';display:none;position:fixed">',d.title&&(x+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(d.title||"&nbsp;")+"</div>"),x+='<div class="ui-widget-content ui-dialog-content"></div>',x+="</div>"):d.theme?(x='<div class="blockUI '+d.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(y+10)+';display:none;position:absolute">',d.title&&(x+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(d.title||"&nbsp;")+"</div>"),x+='<div class="ui-widget-content ui-dialog-content"></div>',x+="</div>"):x=q?'<div class="blockUI '+d.blockMsgClass+' blockPage" style="z-index:'+(y+10)+';display:none;position:fixed"></div>':'<div class="blockUI '+d.blockMsgClass+' blockElement" style="z-index:'+(y+10)+';display:none;position:absolute"></div>',w=a(x),r&&(d.theme?(w.css(p),w.addClass("ui-widget-content")):w.css(f)),d.theme||v.css(d.overlayCSS),v.css("position",q?"fixed":"absolute"),(k||d.forceIframe)&&u.css("opacity",0);var z=[u,v,w],A=a(q?"body":b);a.each(z,function(){this.appendTo(A)}),d.theme&&d.draggable&&a.fn.draggable&&w.draggable({handle:".ui-dialog-titlebar",cancel:"li"});var B=m&&(!a.support.boxModel||a("object,embed",q?null:b).length>0);if(l||B){if(q&&d.allowBodyStretch&&a.support.boxModel&&a("html,body").css("height","100%"),(l||!a.support.boxModel)&&!q)var C=i(b,"borderTopWidth"),D=i(b,"borderLeftWidth"),E=C?"(0 - "+C+")":0,F=D?"(0 - "+D+")":0;a.each(z,function(a,b){var c=b[0].style;if(c.position="absolute",a<2)q?c.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+d.quirksmodeOffsetHack+') + "px"'):c.setExpression("height",'this.parentNode.offsetHeight + "px"'),q?c.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):c.setExpression("width",'this.parentNode.offsetWidth + "px"'),F&&c.setExpression("left",F),E&&c.setExpression("top",E);else if(d.centerY)q&&c.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),c.marginTop=0;else if(!d.centerY&&q){var e=d.css&&d.css.top?parseInt(d.css.top,10):0,f="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+e+') + "px"';c.setExpression("top",f)}})}if(r&&(d.theme?w.find(".ui-widget-content").append(r):w.append(r),(r.jquery||r.nodeType)&&a(r).show()),(k||d.forceIframe)&&d.showOverlay&&u.show(),d.fadeIn){var G=d.onBlock?d.onBlock:j,H=d.showOverlay&&!r?G:j,I=r?G:j;d.showOverlay&&v._fadeIn(d.fadeIn,H),r&&w._fadeIn(d.fadeIn,I)}else d.showOverlay&&v.show(),r&&w.show(),d.onBlock&&d.onBlock.bind(w)();if(e(1,b,d),q?(n=w[0],o=a(d.focusableElements,n),d.focusInput&&setTimeout(g,20)):h(w[0],d.centerX,d.centerY),d.timeout){var J=setTimeout(function(){q?a.unblockUI(d):a(b).unblock(d)},d.timeout);a(b).data("blockUI.timeout",J)}}}function c(b,c){var f,g=b==window,h=a(b),i=h.data("blockUI.history"),j=h.data("blockUI.timeout");j&&(clearTimeout(j),h.removeData("blockUI.timeout")),c=a.extend({},a.blockUI.defaults,c||{}),e(0,b,c),null===c.onUnblock&&(c.onUnblock=h.data("blockUI.onUnblock"),h.removeData("blockUI.onUnblock"));var k;k=g?a("body").children().filter(".blockUI").add("body > .blockUI"):h.find(">.blockUI"),c.cursorReset&&(k.length>1&&(k[1].style.cursor=c.cursorReset),k.length>2&&(k[2].style.cursor=c.cursorReset)),g&&(n=o=null),c.fadeOut?(f=k.length,k.stop().fadeOut(c.fadeOut,function(){0==--f&&d(k,i,c,b)})):d(k,i,c,b)}function d(b,c,d,e){var f=a(e);if(!f.data("blockUI.isBlocked")){b.each(function(a,b){this.parentNode&&this.parentNode.removeChild(this)}),c&&c.el&&(c.el.style.display=c.display,c.el.style.position=c.position,c.el.style.cursor="default",c.parent&&c.parent.appendChild(c.el),f.removeData("blockUI.history")),f.data("blockUI.static")&&f.css("position","static"),"function"==typeof d.onUnblock&&d.onUnblock(e,d);var g=a(document.body),h=g.width(),i=g[0].style.width;g.width(h-1).width(h),g[0].style.width=i}}function e(b,c,d){var e=c==window,g=a(c);if((b||(!e||n)&&(e||g.data("blockUI.isBlocked")))&&(g.data("blockUI.isBlocked",b),e&&d.bindEvents&&(!b||d.showOverlay))){var h="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";b?a(document).bind(h,d,f):a(document).unbind(h,f)}}function f(b){if("keydown"===b.type&&b.keyCode&&9==b.keyCode&&n&&b.data.constrainTabKey){var c=o,d=!b.shiftKey&&b.target===c[c.length-1],e=b.shiftKey&&b.target===c[0];if(d||e)return setTimeout(function(){g(e)},10),!1}var f=b.data,h=a(b.target);return h.hasClass("blockOverlay")&&f.onOverlayClick&&f.onOverlayClick(b),h.parents("div."+f.blockMsgClass).length>0||0===h.parents().children().filter("div.blockUI").length}function g(a){if(o){var b=o[!0===a?o.length-1:0];b&&b.focus()}}function h(a,b,c){var d=a.parentNode,e=a.style,f=(d.offsetWidth-a.offsetWidth)/2-i(d,"borderLeftWidth"),g=(d.offsetHeight-a.offsetHeight)/2-i(d,"borderTopWidth");b&&(e.left=f>0?f+"px":"0"),c&&(e.top=g>0?g+"px":"0")}function i(b,c){return parseInt(a.css(b,c),10)||0}a.fn._fadeIn=a.fn.fadeIn;var j=a.noop||function(){},k=/MSIE/.test(navigator.userAgent),l=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent),m=(document.documentMode,a.isFunction(document.createElement("div").style.setExpression));a.blockUI=function(a){b(window,a)},a.unblockUI=function(a){c(window,a)},a.growlUI=function(b,c,d,e){var f=a('<div class="growlUI"></div>');b&&f.append("<h1>"+b+"</h1>"),c&&f.append("<h2>"+c+"</h2>"),void 0===d&&(d=3e3);var g=function(b){b=b||{},a.blockUI({message:f,fadeIn:void 0!==b.fadeIn?b.fadeIn:700,fadeOut:void 0!==b.fadeOut?b.fadeOut:1e3,timeout:void 0!==b.timeout?b.timeout:d,centerY:!1,showOverlay:!1,onUnblock:e,css:a.blockUI.defaults.growlCSS})};g();f.css("opacity");f.mouseover(function(){g({fadeIn:0,timeout:3e4});var b=a(".blockMsg");b.stop(),b.fadeTo(300,1)}).mouseout(function(){a(".blockMsg").fadeOut(1e3)})},a.fn.block=function(c){if(this[0]===window)return a.blockUI(c),this;var d=a.extend({},a.blockUI.defaults,c||{});return this.each(function(){var b=a(this);d.ignoreIfBlocked&&b.data("blockUI.isBlocked")||b.unblock({fadeOut:0})}),this.each(function(){"static"==a.css(this,"position")&&(this.style.position="relative",a(this).data("blockUI.static",!0)),this.style.zoom=1,b(this,c)})},a.fn.unblock=function(b){return this[0]===window?(a.unblockUI(b),this):this.each(function(){c(this,b)})},a.blockUI.version=2.7,a.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};var n=null,o=[]}"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],a):a(jQuery)}();